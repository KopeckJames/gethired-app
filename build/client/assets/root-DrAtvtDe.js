import{q as b,t as k,v as N,w as E,r,_ as A,a as L,x as w,j as e,N as S,L as C,u as R,y as M,M as g,z as v,O as P,S as j}from"./components-9TVjVNdt.js";import{N as H,A as O}from"./ApplicationContext-DeSwkrAo.js";import{F as I}from"./MicrophoneIcon-At7u6jEd.js";import{B as x}from"./Button-CDHjtM4L.js";import{A as T}from"./Alert-BBZG7UN2.js";/**
 * @remix-run/react v2.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */let p="positions";function V({getKey:t,...n}){let{isSpaMode:o}=b(),a=k(),i=N();E({getKey:t,storageKey:p});let s=r.useMemo(()=>{if(!t)return null;let l=t(a,i);return l!==a.key?l:null},[]);if(o)return null;let c=((l,u)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let d=JSON.parse(sessionStorage.getItem(l)||"{}")[u||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(h){console.error(h),sessionStorage.removeItem(l)}}).toString();return r.createElement("script",A({},n,{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${c})(${JSON.stringify(p)}, ${JSON.stringify(s)})`}}))}function f(t){return{...t,createdAt:new Date(t.createdAt)}}const y=r.createContext(null);function U({children:t,initialUser:n,initialAuthState:o}){const[a,i]=r.useState(n?f(n):null),[s,c]=r.useState(!0);L();const l=w();r.useEffect(()=>{o&&(async()=>{try{const d=await fetch("/auth/verify",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"}),m=await d.json();if(!d.ok){i(null),document.cookie="auth_token=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",l("/?error="+encodeURIComponent(m.error||"Authentication failed. Please sign in again."));return}m.user&&i(f(m.user))}catch(d){console.error("Error verifying auth:",d),i(null),document.cookie="auth_token=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",l("/?error="+encodeURIComponent("Authentication error. Please try again."))}})()},[o,l]);const u={isAuthenticated:!!a,user:a,isInitialized:s};return e.jsx(y.Provider,{value:u,children:t})}function _(){const t=r.useContext(y);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function B({title:t,titleId:n,...o},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},o),t?r.createElement("title",{id:n},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const G=r.forwardRef(B);function F({title:t,titleId:n,...o},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},o),t?r.createElement("title",{id:n},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const $=r.forwardRef(F);function z({title:t,titleId:n,...o},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},o),t?r.createElement("title",{id:n},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v16.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Zm3.75 11.625a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const D=r.forwardRef(z);function J({title:t,titleId:n,...o},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},o),t?r.createElement("title",{id:n},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const W=r.forwardRef(J);function Z({title:t,titleId:n,...o},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},o),t?r.createElement("title",{id:n},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Y=r.forwardRef(Z),q=[{name:"Home",to:"/",icon:Y},{name:"Applications",to:"/applications",icon:G},{name:"Documents",to:"/documents",icon:W},{name:"Resume Analysis",to:"/resume-analysis",icon:D},{name:"AI Chat",to:"/chat",icon:$},{name:"Voice Notes",to:"/voice-notes",icon:I}];function K(){return e.jsx("nav",{className:"flex space-x-4 px-4 py-3 bg-white shadow-sm",children:q.map(t=>e.jsxs(S,{to:t.to,className:({isActive:n})=>`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${n?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx(t.icon,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),t.name]},t.name))})}function Q(){const{isAuthenticated:t,isInitialized:n}=_(),o=w(),a=async()=>{try{const s=`${window.location.origin}/auth/callback`,c=new URL("https://accounts.google.com/o/oauth2/v2/auth");c.searchParams.append("client_id",window.ENV.GOOGLE_CLIENT_ID),c.searchParams.append("redirect_uri",s),c.searchParams.append("response_type","code"),c.searchParams.append("scope","email profile"),c.searchParams.append("access_type","offline"),c.searchParams.append("prompt","consent"),window.location.href=c.toString()}catch(s){console.error("Error logging in:",s),o("/?error="+encodeURIComponent("Failed to sign in. Please try again."))}},i=async()=>{try{if(!(await fetch("/auth/signout",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"})).ok)throw new Error("Failed to sign out");window.location.href="/"}catch(s){console.error("Error logging out:",s),o("/?error="+encodeURIComponent("Failed to sign out. Please try again."))}};return n?e.jsxs(x,{onClick:t?i:a,variant:"outline",className:"flex items-center gap-2",children:[!t&&e.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),t?"Sign Out":"Sign in with Google"]}):e.jsx(x,{variant:"outline",disabled:!0,className:"flex items-center gap-2",children:"Loading..."})}function X({children:t}){return e.jsxs("div",{className:"min-h-full",children:[e.jsxs("header",{className:"border-b border-slate-200 bg-white",children:[e.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex h-16 items-center justify-between",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(C,{to:"/",className:"text-xl font-bold text-slate-900",children:"GetHired!"})}),e.jsx("div",{children:e.jsx(Q,{})})]})}),e.jsx(K,{})]}),e.jsx("main",{children:e.jsx("div",{className:"mx-auto max-w-7xl py-6 sm:px-6 lg:px-8",children:t})}),e.jsx("footer",{className:"border-t border-slate-200 bg-white",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:e.jsxs("p",{className:"text-center text-sm text-slate-500",children:["© ",new Date().getFullYear()," GetHired! All rights reserved."]})})})]})}const ae=()=>[{rel:"icon",href:"/favicon.ico",type:"image/x-icon"}];function se(){const{ENV:t,user:n,isAuthenticated:o}=R(),[a]=M(),i=a.get("error");return r.useEffect(()=>{if(i){const s=new URL(window.location.href);s.searchParams.delete("error"),window.history.replaceState({},"",s.toString())}},[i]),r.useEffect(()=>{typeof window<"u"&&(window.ENV=t)},[t]),e.jsxs("html",{lang:"en",className:"h-full",children:[e.jsxs("head",{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),e.jsx("meta",{name:"description",content:"Track and manage your job applications with GetHired!"}),e.jsx("meta",{name:"theme-color",content:"#000000"}),e.jsx("title",{children:"GetHired! - Job Application Tracker"}),e.jsx(g,{}),e.jsx(v,{})]}),e.jsxs("body",{className:"h-full bg-white text-slate-900 antialiased",children:[e.jsx(U,{initialUser:n,initialAuthState:o,children:e.jsx(H,{children:e.jsx(O,{children:e.jsxs(X,{children:[i&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4",children:e.jsx(T,{variant:"error",onClose:()=>{const s=new URL(window.location.href);s.searchParams.delete("error"),window.history.replaceState({},"",s.toString())},children:decodeURIComponent(i)})}),e.jsx(P,{})]})})})}),e.jsx(V,{}),e.jsx("script",{dangerouslySetInnerHTML:{__html:`window.ENV = ${JSON.stringify(t)}`}}),e.jsx(j,{})]})]})}function ie({error:t}){const n=(t==null?void 0:t.message)||"An unexpected error occurred";return e.jsxs("html",{lang:"en",className:"h-full",children:[e.jsxs("head",{children:[e.jsx("title",{children:"Error - GetHired!"}),e.jsx(g,{}),e.jsx(v,{})]}),e.jsxs("body",{className:"flex h-full flex-col items-center justify-center bg-white text-slate-900",children:[e.jsxs("div",{className:"space-y-4 text-center",children:[e.jsx("h1",{className:"text-4xl font-bold",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-lg text-slate-600",children:n}),e.jsx("div",{children:e.jsx("a",{href:"/",className:"text-blue-600 hover:text-blue-700",children:"Go back home →"})})]}),e.jsx(j,{})]})]})}export{ie as ErrorBoundary,se as default,ae as links};
